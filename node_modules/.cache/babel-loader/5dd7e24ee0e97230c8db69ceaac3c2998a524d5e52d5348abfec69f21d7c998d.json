{"ast":null,"code":"import _regeneratorRuntime from\"G:/internetM/my-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"G:/internetM/my-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"G:/internetM/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import\"./product.css\";import Footer from\"../MainLanding/pages/Footer\";import Header from\"../MainLanding/pages/Header\";import{useParams}from\"react-router-dom\";import Presentation from\"./components/Presentation\";import Loader from\"../MainLanding/Loader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Product(){var _useParams=useParams(),name=_useParams.name;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),filteredProducts=_useState4[0],setFilteredProducts=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];useEffect(function(){setIsLoading(true);var timer=setTimeout(function(){setIsLoading(false);},500);return function(){return clearTimeout(timer);};},[filteredProducts]);useEffect(function(){var fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,jsonData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"http://localhost:3000/product\");case 3:response=_context.sent;_context.next=6;return response.json();case 6:jsonData=_context.sent;setProducts(jsonData);_context.next=13;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);console.error(\"error fetch product data\",_context.t0.message);case 13:case\"end\":return _context.stop();}},_callee,null,[[0,10]]);}));return function fetchData(){return _ref.apply(this,arguments);};}();fetchData();},[]);useEffect(function(){setFilteredProducts(products.filter(function(item){return item.name===name;}));},[products,name]);return/*#__PURE__*/_jsx(_Fragment,{children:isLoading?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Loader,{})}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),filteredProducts.map(function(product){return/*#__PURE__*/_jsx(Presentation,{product:product,className:\"product\"},product.id);}),/*#__PURE__*/_jsx(Footer,{})]})});}export default Product;","map":{"version":3,"names":["React","useEffect","useState","Footer","Header","useParams","Presentation","Loader","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Product","_useParams","name","_useState","_useState2","_slicedToArray","products","setProducts","_useState3","_useState4","filteredProducts","setFilteredProducts","_useState5","_useState6","isLoading","setIsLoading","timer","setTimeout","clearTimeout","fetchData","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","jsonData","wrap","_callee$","_context","prev","next","fetch","sent","json","t0","console","error","message","stop","apply","arguments","filter","item","children","map","product","className","id"],"sources":["G:/internetM/my-app/src/Product/Product.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./product.css\";\r\nimport Footer from \"../MainLanding/pages/Footer\";\r\nimport Header from \"../MainLanding/pages/Header\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Presentation from \"./components/Presentation\";\r\nimport Loader from \"../MainLanding/Loader\";\r\n\r\nfunction Product() {\r\n  const { name } = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const timer = setTimeout(() => {\r\n      setIsLoading(false);\r\n    }, 500);\r\n\r\n    return () => clearTimeout(timer);\r\n  }, [filteredProducts]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:3000/product\");\r\n        const jsonData = await response.json();\r\n        setProducts(jsonData);\r\n      } catch (error) {\r\n        console.error(\"error fetch product data\", error.message);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n  useEffect(() => {\r\n    setFilteredProducts(products.filter((item) => item.name === name));\r\n  }, [products, name]);\r\n\r\n  return (\r\n    <>\r\n      {isLoading ? (\r\n        <div>\r\n          <Loader />\r\n        </div>\r\n      ) : (\r\n        <div>\r\n          <Header />\r\n\r\n          {filteredProducts.map((product) => (\r\n            <Presentation\r\n              key={product.id}\r\n              product={product}\r\n              className=\"product\"\r\n            />\r\n          ))}\r\n\r\n          <Footer />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}